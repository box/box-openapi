language: node_js
dist: xenial
cache:
  directories:
  - node_modules
before_install:
- sudo apt-get update
- sudo apt-get install -y yamllint
install:
- npm install
node_js:
- 11
branches:
  only:
  - "@cbetta/refactor"
before_deploy: npm run build
deploy:
- provider: pages
  local-dir: build
  github-token: "$GITHUB_TOKEN"
  skip-cleanup: true
  keep-history: true
  on:
    branch: "@cbetta/refactor"
    node: 11
notifications:
  slack:
    secure: h4xjUiMUR5wVtvDR+Em3behkqiuKraRgeiqzoBMEhcATx/E5PTux0xS5rAi79LWZJfNXHd9EQqN2mDPHT3sjKTSPvIkMjeXAgcnYzViCIP2SK+QiVASaGemEbaMAOknjUG2vlESGXV2UIsrrDmEN+mOCAjf6ShnYQrHzXLWDT58qg42sopHLYpT4JgqqGBersP2E2K/khuP9Zm9flys4fH7oOs2ZPGuAaReDCAS0gsaTaz9g/BFaydET2eSz+3kzwfh09KbeOue5fDjHGtd2Z9Bd8NWp77tA6MDiOaq8jd84mmXyjPdeEOFkatGEizWf25Tl2+Ptd8RFS7Hy315Htfue/1nLl0cA5+tbe3gXXM2oknStyAosl1eTDw0qJSBw7IXiBvinSHQogeZU0aSVdcdv0p0qPNoWzrdojP120JVY+wD6TiYzkTvNi/QiuC7QKPo3tKYZMAeOebTSBjJJ0KhEa1mxcvggfSes7p6edD1JHiikOgLzG+2cUst6/AHmJCHRwKTfKJz79UmPsaYKE6XwwXHjC/svWPE4O0LF8z4FJvAKhOfY+DCq5WMz7UTFqmlsbrfNb95RT77w2ivUx0UN1aMZHIlu0rOgNRIyb1sfD5LP9AgagNC1LTfHqMZCReE7hLyjI/oZHY0qDlkvpjyrdyt+yhZSeTmzgRDFvxw=
    on_start: always