---
x-box-resource-id: upload_session

description: |-
  An upload session for chunk uploading a file.

x-box-reference-category: chunked_uploads

allOf:
  - $ref: "#/components/schemas/Reference"
  - properties:
      session_expires_at:
        description: |-
          The date and time when this session expires.
        type: string
        format: date-time
        example: "2012-12-12T10:53:43-08:00"

      part_size:
        type: integer
        format: int64
        example: 1024
        description: |-
          The  size in bytes that must be used for all parts of of the
          upload.

          Only the last part is allowed to be of a smaller size.

      total_parts:
        type: integer
        format: int32
        example: 1000
        description: |-
          The total number of parts expected in this upload session,
          as determined by the file size and part size.

      num_parts_processed:
        type: integer
        format: int32
        example: 455
        description: |-
          The number of parts that have been uploaded and processed
          by the server. This starts at `0`.

          When committing a file files, inspecting this property can
          provide insight if all parts have been uploaded correctly.

      session_endpoints:
        type: object
        description: |-
          A list of endpoints for this session.
        properties:
          upload_part:
            type: string
            description: |-
              The URL to upload parts to
            example: |-
              https://upload.box.com/api/2.0/files/upload_sessions/D5E3F7A

          commit:
            type: string
            description: |-
              The URL used to commit the file
            example: |-
              https://upload.box.com/api/2.0/files/upload_sessions/D5E3F7A/commit

          abort:
            type: string
            description: |-
              The URL for used to abort the session.
            example: |-
              https://upload.box.com/api/2.0/files/upload_sessions/D5E3F7A

          list_parts:
            type: string
            description: |-
              The URL users to list all parts.
            example: |-
              https://upload.box.com/api/2.0/files/upload_sessions/D5E3F7A/parts

          status:
            type: string
            description: The URL used to get the status of the upload.
            example: |-
              https://upload.box.com/api/2.0/files/upload_sessions/D5E3F7A

          log_event:
            type: string
            description: |-
              The URL used to get the upload log from.
            example: |-
              https://upload.box.com/api/2.0/files/upload_sessions/D5E3F7A/log
